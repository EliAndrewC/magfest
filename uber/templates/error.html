{% if not XHR %}{% extends 'base_login.html' %}{% endif -%}
{# % import 'macros.html' as macros with context % #} 
{# { macros.title('Error - {{ c.EVENT_NAME }}') } #}
{% block content %}

<button class="btn btn-default" data-toggle="modal" data-target="#about-modal">Launch about modal</button>
<div class="modal" id="about-modal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog" style="width:auto; height:">
    <div class="modal-content about-modal-pf">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
          <span class="pficon pficon-close"></span>
        </button>
      </div>
      <div class="modal-body">
        <h1>Product Title</h1>
        <pre class="prettyprint" id="fullBacktrace">{{ traceback }}</pre>
      </div>
      <div class="modal-footer">
        <img src="/assets/img/logo-alt.svg" alt="Patternfly Symbol">
      </div>
    </div>
  </div>
</div>

<hr>
<pre class="prettyprint" id="shortBacktrace">{{ traceback }}</pre>
<!--
    <script>
    System.import('jquery').then(function($) {
        Promise.all([
        System.import('google-code-prettify/bin/prettify.min.js'),
        System.import('google-code-prettify/styles/doxy.css!')
        ]).then(function(modules) {
            //gcp = modules.pop();
            var btShort = "";
            var lenRump = 3;
            // it's still raw at this point, we prettify it later
            var btRaw = $("#fullBacktrace").html();
            var btSplit = btRaw.split("\n");
            var btLen = btSplit.length;
            if (btLen > lenRump) {
                btShort += "...\n"
            }
            btShort += btSplit.slice(-(lenRump + 1),-1).join("\n");
            $("#shortBacktrace").html(btShort);
            // now we can prettify dat code
            PR.prettyPrint();
        });
    });
</script>

Error {{ statusNum }}<br><br>
{{ blurb }}<br><br>
{{ message }}
-->
{% endblock %}