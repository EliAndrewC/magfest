{% extends "base-admin.html" %}
{% block title %}Discount a Badge{% endblock %}
{% block content %}

<h2> Generate Promo Code </h2>

<form method="post" action="generate_promo_code">
{% csrf_token %}
<table class="form">
<tr>
    <td>Custom Code: </td>
    <td>
        <input class="focus" type="text" style="width:10em" name="code" placeholder="Leave Blank To Generate" />
    </td>
</tr>
<tr>
    <td> Expiration Date: </td>
    <td> <input type="date" name="expiration_date" min="{{ now }}" value="{{ max }}" max="{{ max }}" />
</tr>
<tr>
    <td> <b>Discounted Price:</b> </td>
    <td>&nbsp;$<input type="number" name="price" size="4" min="0" value="0" /> </td>
</tr>
    <tr>
    <td> <b>Use Count:</b> </td>
    <td> <input type="number" name="uses" min="0" size="4" value="0" /> </td>
</tr>
<tr>
    <td></td>
    <td> <input type="submit" value="Create" /> </td>
</tr>
</table>
</form>

<i>Bolded fields are required</i>
<a href="#" onclick="batchCodes()"><p>Make Batch Codes</p></a>
<form id="batchForm" style="display: none;" method="post" action="generate_batch_codes">
{% csrf_token %}
<table>
    <tr>
        <td>Count: </td>
        <td><input type="number" name="count" min="1" value="1"/></td>
    </tr>
    <tr>
        <td>Price:</td>
        <td>$<input type="number" name="price" min="0" value="0"/></td>
    </tr>
    <tr>
        <td>Uses:</td>
        <td><input type="number" name="uses" min="0" value="1" /></td>
    </tr>
    <tr>
        <td> Expiration Date: </td>
        <td> <input type="date" name="expiration_date" min="{{ now }}" value="{{ max }}" max="{{ max }}" />
    </tr>
    <tr>
        <td><input type="submit" value="Make"/></td>
    </tr>
</table>
</form>

    <script>
        var batchCodes = function(){
            $("#batchForm").toggle();
        }
    </script>

{% endblock %}
