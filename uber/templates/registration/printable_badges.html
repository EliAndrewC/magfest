{% extends "base-admin.html" %}
{% block title %}Badge Printing{% endblock %}
{% block content %}

<script src="../static/lib/utils/servertimecheck.js" type="text/javascript"></script>

<h2> {% if not show_all %}Unprinted{% endif %} Badge Printing </h2>

<div style="text-align:center">
    {% if show_all %}
        <a href="print">Click Here</a> to see only unprinted badges
    {% else %}
        <form method="post" action="print_badge" target="_blank">
            <input type="submit" value="Print All Badges" />
        </form>
        <a href="print?show_all=true">Click Here</a> to see all printable badges instead of only unprinted ones
    {% endif %}
    <br/> <a href="index">Click Here</a> to view the preregistered and checked in attendee list
</div>

<br/>

<table class="table footable" data-page-size="9999999">
<thead><tr>
    <th>Badge Type</th>
    <th>Badge Number</th>
    <th>Badge Name</th>
    <th>Kickin Level</th>
    <th>Volunteer</th>
    <th>Ribbon</th>
    <th></th>
</tr></thead>
{% for attendee in badges %}
    <tr bgcolor="{% cycle #FFFFFF,#DDDDDD %}">
        <td><nobr>{{ attendee.badge_type_label }}</nobr></td>
        <td>{{ attendee.badge_num }}</td>
        <td>
            {{ attendee.badge_printed_name }}
        </td>
        <td id="amount_extra_{{ attendee.id }}">{{ attendee.amount_extra_label }}</td>
        <td>{{ attendee.staffing }}</td>
        <td id="ribbon_{{ attendee.id }}">{{ attendee.ribbon_label }}</td>
        <form method="post" action="print_badge" target="_blank">
        <td>
            <input type="hidden" name="id" value="{{ attendee.id }}" />
            <input type="submit" value="Print" {% if attendee.paid == NOT_PAID %}disabled{% endif %} />
        </td>
        </form>
    </tr>
{% endfor %}
</table>

{% endblock %}
